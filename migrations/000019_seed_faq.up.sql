-- Migration: Seed FAQ content
-- Purpose: Populate FAQ questions and answers for the FAQ page

CREATE TABLE IF NOT EXISTS faq_items (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    category VARCHAR(50) NOT NULL DEFAULT 'general',
    question TEXT NOT NULL,
    answer TEXT NOT NULL,
    sort_order INT DEFAULT 0,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW()
);

-- Seed FAQ content
INSERT INTO faq_items (category, question, answer, sort_order) VALUES
-- Subscriptions
('subscription', 'Можно ли изменить тариф в любое время?', 
 'Да, вы можете перейти на другой тариф в любое время. При переходе на более дорогой тариф разница будет пропорционально рассчитана. При переходе на более дешевый тариф изменения вступят в силу с следующего расчетного периода.', 1),

('subscription', 'Что происходит при отмене подписки?',
 'При отмене подписки вы сможете пользоваться преимуществами тарифа до конца оплаченного периода. После этого ваш аккаунт автоматически перейдет на бесплатный тариф Free.', 2),

('subscription', 'Есть ли скидки для студентов?',
 'Да! Мы предоставляем скидку 30% для студентов. Для получения скидки отправьте фото студенческого билета в поддержку.', 3),

('subscription', 'Какие способы оплаты вы принимаете?',
 'Мы принимаем оплату через Kaspi Pay, банковские карты Visa/MasterCard, а также переводы на Kaspi Gold. Годовая подписка предоставляет скидку 17%.', 4),

-- Profile
('profile', 'Как увеличить видимость профиля?',
 'Заполните профиль на 100%: добавьте минимум 5 качественных фото, заполните все параметры, добавьте описание. Подписчики тарифов Start и Pro получают приоритет в поиске.', 5),

('profile', 'Как добавить социальные сети в профиль?',
 'Перейдите в редактирование профиля, выберите вкладку "Социальные сети" и добавьте ссылки на ваши аккаунты Instagram, TikTok, Telegram и других платформ.', 6),

('profile', 'Что такое верификация профиля?',
 'Верификация — это подтверждение подлинности вашего профиля. Верифицированные профили получают специальный значок и большее доверие от работодателей. Доступно на тарифах Start и Pro.', 7),

-- Castings
('casting', 'Как откликнуться на кастинг?',
 'Откройте страницу кастинга и нажмите кнопку "Откликнуться". Вы можете добавить сопроводительное сообщение. Количество откликов в месяц зависит от вашего тарифа.', 8),

('casting', 'Что означает значок "Срочно"?',
 'Значок "Срочно" означает, что работодатель ищет модель на ближайшие дни. Такие кастинги имеют ограниченный срок подачи заявок.', 9),

('casting', 'Можно ли сохранить кастинг в избранное?',
 'Да, нажмите на иконку закладки на карточке кастинга. Все сохраненные кастинги доступны в разделе "Избранное" в вашем личном кабинете.', 10),

-- Payments
('payment', 'Когда я получу оплату за работу?',
 'Оплата производится работодателем напрямую после выполнения работы. MWork не участвует в финансовых расчетах между моделями и работодателями и не берет комиссию с заработка.', 11),

('payment', 'Безопасно ли работать через MWork?',
 'Мы проверяем работодателей перед публикацией вакансий. Рекомендуем всегда обговаривать условия оплаты заранее и подписывать договор при крупных проектах.', 12),

-- General
('general', 'Как связаться с поддержкой?',
 'Напишите нам в Telegram: @mwork_support или на email: support@mwork.kz. Время ответа — до 24 часов в рабочие дни.', 13),

('general', 'В каких городах работает MWork?',
 'MWork работает по всему Казахстану. Наибольшая активность в Алматы, Астане, Шымкенте и Караганде.', 14);

-- Index for faster queries
CREATE INDEX IF NOT EXISTS idx_faq_category ON faq_items(category);
CREATE INDEX IF NOT EXISTS idx_faq_active ON faq_items(is_active) WHERE is_active = true;

COMMENT ON TABLE faq_items IS 'FAQ questions and answers for help section';
